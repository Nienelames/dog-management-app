import javafx.animation.FadeTransition;
import javafx.geometry.Insets;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.control.Label;
import javafx.scene.control.TextArea;
import javafx.scene.layout.GridPane;
import javafx.scene.layout.HBox;
import javafx.scene.layout.Priority;
import javafx.scene.layout.Region;
import javafx.scene.layout.VBox;
import javafx.scene.paint.Color;
import javafx.scene.shape.Rectangle;
import javafx.scene.shape.SVGPath;
import javafx.scene.text.Text;
import javafx.stage.Modality;
import javafx.stage.Stage;
import javafx.stage.StageStyle;
import javafx.util.Duration;

public class Utils {
    private Utils() {}

    protected static Region getSVG(String content, double width, double height, String color) {
        SVGPath svg = new SVGPath();
        svg.setContent(content);
        
        Region svgShape = new Region();
        svgShape.setShape(svg);
        svgShape.getStyleClass().add("svg-region");
        svgShape.setMinSize(width, height);
        svgShape.setPrefSize(width, height);
        svgShape.setMaxSize(width, height);
        svgShape.setPadding(new Insets(10, 0, 0, 0));

        return svgShape;
    }

    protected static void displayAlert(String message, String details) {
        Stage stage = new Stage();
        
        GridPane pane = new GridPane();
        Rectangle shape = new Rectangle();
        Region alertIcon = getSVG(SVGIcons.WARNING, 30, 30, "white");
        VBox messageContainer = new VBox();
        Text messageBox = new Text(message);
        Label title = new Label("Error");
        Button closeButton = new Button("Ok"); 
        Label detailsButton = new Label("Details");
        HBox navbar = new HBox(detailsButton, closeButton);
        TextArea detailsArea = new TextArea(details);

        //Popup shape
        shape.setWidth(300);
        shape.setHeight(180);
        shape.setArcWidth(30);
        shape.setArcHeight(30);

        //Styling form content
        title.setStyle("-fx-font-family: 'Montserrat-Bold'; -fx-font-weight: bold;");
        messageBox.setFill(Color.WHITE);
        closeButton.setId("alert-close-button");
        pane.setId("alert-box");
        pane.setClip(shape);

        //Adding content
        pane.add(alertIcon, 0, 0);
        messageContainer.getChildren().addAll(title, messageBox);
        messageContainer.setSpacing(5);
        pane.add(messageContainer, 0, 1);
        navbar.setSpacing(160);
        pane.add(navbar, 0, 2);

        //Displaying alert details
        detailsButton.setOnMouseClicked(e -> {
            if (details != "") {
                detailsButton.setTextFill(Color.WHITE);
                pane.add(detailsArea, 0, 3);
                GridPane.setVgrow(detailsArea, Priority.ALWAYS);
            }
        });

        //Fading out alert popup
        closeButton.setOnMouseClicked(e1 -> {
            pane.setDisable(true);

            FadeTransition fadeOut = new FadeTransition(Duration.millis(666), pane);
            fadeOut.setFromValue(1);
            fadeOut.setToValue(0);
            fadeOut.setOnFinished(e2 -> stage.close());
            fadeOut.play();
        });

        //Setting window scene
        Scene scene = new Scene(pane);
        scene.setFill(Color.TRANSPARENT);
        scene.getStylesheets().add("style.css");

        stage.initStyle(StageStyle.TRANSPARENT);
        stage.initModality(Modality.APPLICATION_MODAL);
        stage.setScene(scene);
        stage.showAndWait();  
    }
}

class SVGIcons {
    protected static final String USER = "M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z";
    protected static final String PASSWORD = "M 3.7011719 4.0097656 A 4 4 0 0 0 0 8 A 4 4 0 0 0 7.4648438 10 L 8 10 A 0.5 0.5 0 0 0 8.3535156 9.8535156 L 9 9.2070312 L 9.6464844 9.8535156 A 0.5 0.5 0 0 0 10.353516 9.8535156 L 11 9.2070312 L 11.646484 9.8535156 A 0.5 0.5 0 0 0 12.353516 9.8535156 L 13 9.2070312 L 13.646484 9.8535156 A 0.5 0.5 0 0 0 14.353516 9.8535156 L 15.853516 8.3535156 A 0.5 0.5 0 0 0 15.853516 7.6464844 L 14.353516 6.1464844 A 0.5 0.5 0 0 0 14 6 L 7.4648438 6 A 4 4 0 0 0 3.7011719 4.0097656 z M 4 5 A 3 3 0 0 1 6.7128906 6.7148438 A 0.5 0.5 0 0 0 7.1621094 7 L 13.792969 7 L 14.792969 8 L 14 8.7929688 L 13.353516 8.1464844 A 0.5 0.5 0 0 0 12.646484 8.1464844 L 12 8.7929688 L 11.353516 8.1464844 A 0.5 0.5 0 0 0 10.646484 8.1464844 L 10 8.7929688 L 9.3535156 8.1464844 A 0.5 0.5 0 0 0 8.6464844 8.1464844 L 7.7929688 9 L 7.1621094 9 A 0.5 0.5 0 0 0 6.7128906 9.2851562 A 3 3 0 1 1 4 5 z M 3.0527344 7 A 1 1 0 0 0 2.9257812 7.0019531 A 1 1 0 0 0 2 8 A 1 1 0 0 0 4 8 A 1 1 0 0 0 3.0527344 7 z ";
    protected static final String WARNING = "M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z";
    protected static final String SUCCESS_CHECK_MARK = "M 26.980469 5.9902344 A 1.0001 1.0001 0 0 0 26.292969 6.2929688 L 11 21.585938 L 4.7070312 15.292969 A 1.0001 1.0001 0 1 0 3.2929688 16.707031 L 10.292969 23.707031 A 1.0001 1.0001 0 0 0 11.707031 23.707031 L 27.707031 7.7070312 A 1.0001 1.0001 0 0 0 26.980469 5.9902344 z";
    protected static final String FAILURE_X = "M285.08,230.397L456.218,59.27c6.076-6.077,6.076-15.911,0-21.986L423.511,4.565c-2.913-2.911-6.866-4.55-10.992-4.55c-4.127,0-8.08,1.639-10.993,4.55l-171.138,171.14L59.25,4.565c-2.913-2.911-6.866-4.55-10.993-4.55c-4.126,0-8.08,1.639-10.992,4.55L4.558,37.284c-6.077,6.075-6.077,15.909,0,21.986l171.138,171.128L4.575,401.505c-6.074,6.077-6.074,15.911,0,21.986l32.709,32.719c2.911,2.911,6.865,4.55,10.992,4.55c4.127,0,8.08-1.639,10.994-4.55l171.117-171.12l171.118,171.12c2.913,2.911,6.866,4.55,10.993,4.55c4.128,0,8.081-1.639,10.992-4.55l32.709-32.719c6.074-6.075,6.074-15.909,0-21.986L285.08,230.397z";
    protected static final String BACK_ARROW = "M382.688,182.686H59.116l77.209-77.214c6.764-6.76,6.764-17.726,0-24.485c-6.764-6.764-17.73-6.764-24.484,0L5.073,187.757c-6.764,6.76-6.764,17.727,0,24.485l106.768,106.775c3.381,3.383,7.812,5.072,12.242,5.072c4.43,0,8.861-1.689,12.242-5.072c6.764-6.76,6.764-17.726,0-24.484l-77.209-77.218h323.572c9.562,0,17.316-7.753,17.316-17.315C400.004,190.438,392.251,182.686,382.688,182.686z";
    protected static final String EDIT_PENCIL = "M320.85,151.725l139.6,139.6l-238,237.9l-139.6-139.6L320.85,151.725z M607.65,124.125l-119.7-119.7c-5.9-5.9-15.5-5.9-21.4,0l-104,104l141,141l104-104C613.55,139.525,613.55,130.025,607.65,124.125z M0.55,592.825c-1.4,5.3,0.1,10.9,3.9,14.8c3.9,3.9,9.5,5.4,14.8,3.9l165.5-44.6l-139.6-139.6L0.55,592.825z";
    protected static final String QUESTION_MARK = "m 192.85,252.88 -0.569,-7.397 c -1.707,-15.371 3.414,-32.149 17.647,-49.227 12.811,-15.078 19.923,-26.182 19.923,-38.985 0,-14.51 -9.112,-24.182 -27.044,-24.467 -10.242,0 -21.622,3.414 -28.735,8.819 l -6.828,-17.924 c 9.388,-6.828 25.605,-11.38 40.692,-11.38 32.726,0 47.52,20.2 47.52,41.83 0,19.346 -10.811,33.295 -24.483,49.511 -12.51,14.794 -17.07,27.312 -16.216,41.83 l 0.284,7.397 H 192.85 Z m -6.267,39.838 c 0,-10.526 7.121,-17.923 17.078,-17.923 9.966,0 16.785,7.397 16.785,17.924 0,9.957 -6.544,17.639 -17.07,17.639 -9.957,-0.009 -16.793,-7.691 -16.793,-17.64 z m 24.76,129.968 C 94.812,422.686 0,327.882 0,211.343 0,94.812 94.812,0 211.343,0 327.874,0 422.686,94.812 422.686,211.343 422.694,327.882 327.882,422.686 211.343,422.686 Z m 0,-406.429 c -107.565,0 -195.086,87.52 -195.086,195.086 0,107.566 87.52,195.086 195.086,195.086 107.574,0 195.086,-87.52 195.086,-195.086 0,-107.566 -87.512,-195.086 -195.086,-195.086 z";
    protected static final String LINKED_CHAIN = "M361.213,244.172l-71.073-71.073c-16.042-16.042-37.632-23.216-58.648-21.562c1.653-21.019-5.521-42.609-21.563-58.651l-71.073-71.073c-29.084-29.084-76.408-29.083-105.492,0L21.814,33.361c-29.084,29.084-29.084,76.408,0,105.493l71.073,71.073c16.042,16.042,37.632,23.217,58.651,21.563c-1.654,21.02,5.52,42.607,21.563,58.65l71.073,71.073c29.084,29.084,76.408,29.083,105.492,0l11.548-11.548C390.297,320.58,390.297,273.256,361.213,244.172z M136.174,161.292l29.458,29.458c-14.997,8.932-34.734,6.955-47.629-5.94l-71.073-71.073c-15.233-15.234-15.233-40.022,0-55.258l11.549-11.548c15.235-15.235,40.023-15.235,55.259,0l71.072,71.073c12.896,12.895,14.873,32.632,5.94,47.63l-29.458-29.458c-6.937-6.937-18.181-6.937-25.117,0S129.238,154.354,136.174,161.292z M336.095,324.547l-11.548,11.548c-15.234,15.235-40.022,15.234-55.258,0l-71.073-71.073c-12.895-12.895-14.873-32.632-5.938-47.629l29.458,29.458c6.936,6.938,18.181,6.938,25.116,0c6.937-6.937,6.938-18.181,0-25.115l-29.458-29.459c14.998-8.934,34.735-6.956,47.631,5.939l71.072,71.073C351.331,284.523,351.331,309.312,336.095,324.547z";
    protected static final String PLUS = "m 5,11 a 1.0001,1.0001 0 1 0 0,2 h 14 a 1.0001,1.0001 0 1 0 0,-2 z M 11.984375,3.9863281 A 1.0001,1.0001 0 0 0 11,5 v 14 a 1.0001,1.0001 0 1 0 2,0 V 5 A 1.0001,1.0001 0 0 0 11.984375,3.9863281 Z";
    protected static final String LIST = "m 175.9,419.95 h 301.5 c 6.8,0 12.3,-5.5 12.3,-12.3 0,-6.8 -5.5,-12.3 -12.3,-12.3 H 175.9 c -6.8,0 -12.3,5.5 -12.3,12.3 0,6.8 5.5,12.3 12.3,12.3 z m 0,-162.8 h 301.5 c 6.8,0 12.3,-5.5 12.3,-12.3 0,-6.8 -5.5,-12.3 -12.3,-12.3 H 175.9 c -6.8,0 -12.3,5.5 -12.3,12.3 0,6.8 5.5,12.3 12.3,12.3 z m 0,-162.9 h 301.5 c 6.8,0 12.3,-5.5 12.3,-12.3 0,-6.8 -5.5,-12.3 -12.3,-12.3 H 175.9 c -6.8,0 -12.3,5.5 -12.3,12.3 0,6.8 5.5,12.3 12.3,12.3 z M 52.7,460.45 c 29.1,0 52.7,-23.7 52.7,-52.7 0,-29.1 -23.7,-52.7 -52.7,-52.7 -29,0 -52.7,23.7 -52.7,52.7 0,29 23.7,52.7 52.7,52.7 z m 0,-81 c 15.6,0 28.2,12.7 28.2,28.2 0,15.6 -12.7,28.2 -28.2,28.2 -15.5,0 -28.2,-12.7 -28.2,-28.2 0,-15.5 12.7,-28.2 28.2,-28.2 z m 0,-81.9 c 29.1,0 52.7,-23.7 52.7,-52.7 0,-29 -23.6,-52.7 -52.7,-52.7 -29.1,0 -52.7,23.6 -52.7,52.7 0,29.1 23.7,52.7 52.7,52.7 z m 0,-80.9 c 15.6,0 28.2,12.7 28.2,28.2 0,15.5 -12.7,28.2 -28.2,28.2 -15.5,0 -28.2,-12.6 -28.2,-28.2 0,-15.6 12.7,-28.2 28.2,-28.2 z m 0,-81.9 c 29.1,0 52.7,-23.7 52.7,-52.7 0,-29 -23.6,-52.8 -52.7,-52.8 -29.1,0 -52.7,23.7 -52.7,52.7 0,29 23.7,52.8 52.7,52.8 z m 0,-81 c 15.6,0 28.2,12.7 28.2,28.2 0,15.5 -12.7,28.2 -28.2,28.2 -15.5,0 -28.2,-12.7 -28.2,-28.2 0,-15.5 12.7,-28.2 28.2,-28.2 z";
    protected static final String REFRESH = "M460.656,132.911c-58.7-122.1-212.2-166.5-331.8-104.1c-9.4,5.2-13.5,16.6-8.3,27c5.2,9.4,16.6,13.5,27,8.3c99.9-52,227.4-14.9,276.7,86.3c65.4,134.3-19,236.7-87.4,274.6c-93.1,51.7-211.2,17.4-267.6-70.7l69.3,14.5c10.4,2.1,21.8-4.2,23.9-15.6c2.1-10.4-4.2-21.8-15.6-23.9l-122.8-25c-20.6-2-25,16.6-23.9,22.9l15.6,123.8c1,10.4,9.4,17.7,19.8,17.7c12.8,0,20.8-12.5,19.8-23.9l-6-50.5c57.4,70.8,170.3,131.2,307.4,68.2C414.856,432.511,548.256,314.811,460.656,132.911z";
    protected static final String SHARE = "M 18 2 C 16.35499 2 15 3.3549904 15 5 C 15 5.1909529 15.021791 5.3771224 15.056641 5.5585938 L 7.921875 9.7207031 C 7.3985399 9.2778539 6.7320771 9 6 9 C 4.3549904 9 3 10.35499 3 12 C 3 13.64501 4.3549904 15 6 15 C 6.7320771 15 7.3985399 14.722146 7.921875 14.279297 L 15.056641 18.439453 C 15.021555 18.621514 15 18.808386 15 19 C 15 20.64501 16.35499 22 18 22 C 19.64501 22 21 20.64501 21 19 C 21 17.35499 19.64501 16 18 16 C 17.26748 16 16.601593 16.279328 16.078125 16.722656 L 8.9433594 12.558594 C 8.9782095 12.377122 9 12.190953 9 12 C 9 11.809047 8.9782095 11.622878 8.9433594 11.441406 L 16.078125 7.2792969 C 16.60146 7.7221461 17.267923 8 18 8 C 19.64501 8 21 6.6450096 21 5 C 21 3.3549904 19.64501 2 18 2 z M 18 4 C 18.564129 4 19 4.4358706 19 5 C 19 5.5641294 18.564129 6 18 6 C 17.435871 6 17 5.5641294 17 5 C 17 4.4358706 17.435871 4 18 4 z M 6 11 C 6.5641294 11 7 11.435871 7 12 C 7 12.564129 6.5641294 13 6 13 C 5.4358706 13 5 12.564129 5 12 C 5 11.435871 5.4358706 11 6 11 z M 18 18 C 18.564129 18 19 18.435871 19 19 C 19 19.564129 18.564129 20 18 20 C 17.435871 20 17 19.564129 17 19 C 17 18.435871 17.435871 18 18 18 z";
    protected static final String DOG_PAW = "M84.449,34.955c-0.515-5.05-3.149-9.294-7.219-11.638c-2.137-1.235-4.592-1.882-7.108-1.882c-0.018,0-0.036,0.004-0.054,0.004C69.901,13.432,65.46,6.625,58.327,4.71c-1.231-0.329-2.502-0.497-3.779-0.497c-4.62,0-8.972,2.201-12.275,5.805c-3.303-3.604-7.655-5.805-12.275-5.805c-1.278,0-2.548,0.168-3.786,0.497c-7.129,1.911-11.57,8.722-11.739,16.728c-0.018,0-0.036-0.004-0.054-0.004c-2.516,0-4.975,0.651-7.1,1.879c-4.076,2.348-6.71,6.592-7.226,11.642c-0.412,4.041,0.569,8.353,2.756,12.147c2.344,4.073,5.808,7.086,9.674,8.672c-0.734,2.652-1.177,5.39-1.177,8.188c0,15.189,10.142,16.366,13.252,16.366c3.089,0,5.97-0.909,9.019-1.872c2.895-0.916,5.884-1.865,8.657-1.865c2.774,0,5.766,0.948,8.657,1.865c3.049,0.966,5.93,1.872,9.019,1.872l0,0c4.527,0,8.321-2.008,10.679-5.655c1.754-2.713,2.573-6.116,2.573-10.712c0-2.799-0.444-5.536-1.177-8.188c3.869-1.582,7.329-4.595,9.67-8.664C83.88,43.308,84.861,38.996,84.449,34.955z M45.83,21.653c1.521-5.68,6.08-9.394,10.185-8.296c4.105,1.102,6.195,6.603,4.678,12.279c-1.525,5.676-6.08,9.394-10.185,8.292C46.399,32.829,44.309,27.332,45.83,21.653z M28.526,13.353c4.101-1.099,8.661,2.616,10.185,8.296c1.521,5.68-0.569,11.177-4.674,12.275c-4.105,1.102-8.661-2.616-10.185-8.292C22.327,19.956,24.421,14.456,28.526,13.353z M10.596,42.635c-2.602-4.509-2.079-9.688,1.185-11.567c3.26-1.882,8.009,0.247,10.611,4.76c2.609,4.513,2.079,9.692-1.181,11.57C17.95,49.278,13.198,47.152,10.596,42.635z M42.269,67.644c-12.139,0-21.981,10.493-21.981-3.683c0-14.179,14.097-25.668,21.981-25.664c7.884,0.004,21.981,11.485,21.981,25.664C64.25,78.138,54.408,67.644,42.269,67.644zM73.941,42.635c-2.602,4.517-7.351,6.642-10.615,4.763c-3.26-1.879-3.79-7.061-1.181-11.57c2.602-4.513,7.351-6.642,10.611-4.76C76.021,32.947,76.543,38.126,73.941,42.635z";

    private SVGIcons() {}
}


